/**
  * di-vue-mask v1.0.2
  * (c) 2017 Sergio Rodrigues
  * @license MIT
  */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.VueMask=t()}(this,function(){"use strict";function e(e,t){return"input"===t.tag?e:e.querySelector("input")}function t(e){var t=function(e){if("function"==typeof e)return e;switch(e){case"number":return o;case"letter":return s;default:return c}};return{bind:function(n,r,i){var a=e(n,r,i),o=null,s=function(e){if(o){for(var t=i.context,n=o.expression.split(".");n.length>1;)t=t[n.shift()];return t[n.shift()]=e}},c=a.pattern?new u(a.pattern,a.options||{}):null,p=t(a.clearValue),f=a.format||function(e){var t=e.value;return t=e.formatter.apply(t),t.trim().replace(/[^0-9]$/,"")},l=function(e){var t=e.target;"paste"===e.type&&(t.value="");var n=p(t.value);t.value=f({value:n,formatter:c}),s(t.value),t.dataset.previousValue=t.value};"input"===i.tag?(n.removeEventListener("input",i.data.on.input),o=i.data.directives.find(function(e){return"model"===e.name})):(n=n.querySelector("input"),o=i.data.directives.find(function(e){return"mask-model"===e.name})),n.addEventListener("input",function(e){return l(e)},!1),n.addEventListener("paste",function(e){return l(e)},!1),n.addEventListener("blur",function(e){return l(e)},!1),l({target:n,type:null})},update:function(e,t,n){e=a(e,n),(e.dataset.previousValue||"")!==e.value&&e.dispatchEvent(new Event("input"))}}}function n(e){n.installed||(r=e,e.directive("maskModel",i),e.directive("mask",p),e.directive("maskDate",l),e.directive("maskPhone",d),e.directive("maskDecimal",h),e.directive("maskNumber",g),e.directive("maskCpf",y),e.directive("maskCnpj",b),e.directive("maskCep",w),e.directive("maskCc",k),n.installed=!0)}var r,i={bind:function(t,n,r){var i=n.value;t=e(t,r),t.value=i},update:function(t,n,r){var i=n.value;i!==n.oldValue&&(t=e(t,r),t.value=i)}},u=("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self,function(e,t){return t={exports:{}},e(t,t.exports),t.exports}(function(e,t){!function(t,n){e.exports=n()}(0,function(){function e(e,t){for(var n=0,r=t-1,i={escape:!0};r>=0&&i&&i.escape;)i=o[e.charAt(r)],n+=i&&i.escape?1:0,r--;return n>0&&n%2==1}function t(e,t){var n=e.replace(/[^0]/g,"").length;return t.replace(/[^\d]/g,"").length-n}function n(e,t,n,r){return r&&"function"==typeof r.transform&&(t=r.transform(t)),n.reverse?t+e:e+t}function r(e,t,n){var i=e.charAt(t),u=o[i];return""!==i&&(!(!u||u.escape)||r(e,t+n,n))}function i(e,t,n){var r=e.charAt(t),u=o[r];return""!==r&&(!(!u||!u.recursive)||i(e,t+n,n))}function u(e,t,n){var r=e.split("");return r.splice(n,0,t),r.join("")}function a(e,t){this.options=t||{},this.options={reverse:this.options.reverse||!1,usedefaults:this.options.usedefaults||this.options.reverse},this.pattern=e}var o={0:{pattern:/\d/,_default:"0"},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,optional:!0,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/},U:{pattern:/[a-zA-Z]/,transform:function(e){return e.toLocaleUpperCase()}},L:{pattern:/[a-zA-Z]/,transform:function(e){return e.toLocaleLowerCase()}},$:{escape:!0}};return a.prototype.process=function(a){var s=this;if(!a)return{result:"",valid:!1};a+="";var c=this.pattern,p=!0,f="",l=this.options.reverse?a.length-1:0,v=0,d=t(c,a),m=!1,h=[],g=!1,y={start:this.options.reverse?c.length-1:0,end:this.options.reverse?-1:c.length,inc:this.options.reverse?-1:1};for(v=y.start;function(e){if(!g&&!h.length&&r(c,v,y.inc))return!0;if(!g&&h.length&&i(c,v,y.inc))return!0;if(g||(g=h.length>0),g){var t=h.shift();if(h.push(t),e.reverse&&l>=0)return v++,c=u(c,t,v),!0;if(!e.reverse&&l<a.length)return c=u(c,t,v),!0}return v<c.length&&v>=0}(this.options);v+=y.inc){var b=a.charAt(l),w=c.charAt(v),k=o[w];if(h.length&&k&&!k.recursive&&(k=null),!g||b){if(s.options.reverse&&e(c,v)){f=n(f,w,s.options,k),v+=y.inc;continue}if(!s.options.reverse&&m){f=n(f,w,s.options,k),m=!1;continue}if(!s.options.reverse&&k&&k.escape){m=!0;continue}}if(!g&&k&&k.recursive)h.push(w);else{if(g&&!b){f=n(f,w,s.options,k);continue}if(!g&&h.length>0&&!b)continue}if(k)if(k.optional){if(k.pattern.test(b)&&d)f=n(f,b,s.options,k),l+=y.inc,d--;else if(h.length>0&&b){p=!1;break}}else if(k.pattern.test(b))f=n(f,b,s.options,k),l+=y.inc;else{if(b||!k._default||!s.options.usedefaults){p=!1;break}f=n(f,k._default,s.options,k)}else f=n(f,w,s.options,k),!g&&h.length&&h.push(w)}return{result:f,valid:p}},a.prototype.apply=function(e){return this.process(e).result},a.prototype.validate=function(e){return this.process(e).valid},a.process=function(e,t,n){return new a(t,n).process(e)},a.apply=function(e,t,n){return new a(t,n).apply(e)},a.validate=function(e,t,n){return new a(t,n).validate(e)},a})})),a=function(e,t){return"input"===t.tag?e:e.querySelector("input")},o=function(e){return e.replace(/\D/g,"")},s=function(e){return e.replace(/[^a-zA-Z]/g,"")},c=function(e){return e.replace(/[^a-zA-Z0-9]/g,"")},p=t(function(e,t){return{pattern:t.value,format:function(e){var t=e.value;return t=e.formatter.apply(t),t.trim().replace(/[^a-zA-Z0-9]$/,"")}}}),f={us:"0000-00-00",br:"00/00/0000"},l=t(function(e,t){var n=t.arg,r=t.modifiers,i=n||Object.keys(r)[0]||"us";return{pattern:f[i],clearValue:"number"}}),v={get us(){var e=new u("(000) 000-0000");return{format:function(t){return e.apply(t)}}},get br(){var e=new u("(00) 0000-0000"),t=new u("(00) 9 0000-0000"),n=new u("0000-000-0000");return{format:function(r){return r=0===r.indexOf("0800")?n.apply(r):r.length<=10?e.apply(r):t.apply(r)}}}},d=t(function(e,t){var n=t.arg,r=t.modifiers,i=n||Object.keys(r)[0]||"us",u=v[i];return{clearValue:"number",format:function(e){var t=e.value;return t=u.format(t),t.trim().replace(/[^0-9]$/,"")}}}),m={us:{thousand:",",decimal:"."},br:{thousand:".",decimal:","}},h=t(function(e,t){var n=t.value,r=t.arg,i=t.modifiers,u=r||Object.keys(i)[0]||"us",a=m[u],o="#"+a.thousand+"##0";if(n&&n>0)for(o+=a.decimal;n>0;)o+="0",n--;return{pattern:o,options:{reverse:!0},clearValue:"number",format:function(e){var t=e.value;return e.formatter.apply(Number(t))}}}),g=t(function(){return{pattern:"#0",options:{reverse:!0},clearValue:"number"}}),y=t(function(){return{pattern:"000.000.000-00",clearValue:"number"}}),b=t(function(){return{pattern:"00.000.000/0000-00",clearValue:"number"}}),w=t(function(){return{pattern:"00.000-000",clearValue:"number"}}),k=t(function(){return{pattern:"0000 0000 0000 0000",clearValue:"number"}}),V={install:n};return"undefined"!=typeof window&&window.Vue&&window.Vue.use({install:n}),V});